
```{r, include=F}
knitr::opts_chunk$set(echo=F, message=F, warning=F, error=F)

source(here::here("scripts/calcofi.R"))
source(here::here("scripts/utility.R"))
```
```{r modal_info}
get_modal_info()
```
[More information about CalCOFI can be found here](https://sanctuarysimon.org/dbtools/project-database/index.php?ID=100476)

[CalCOFI data can be accessed here](https://coastwatch.pfeg.noaa.gov/erddap/tabledap/erdCalCOFIstns.html)

## {.tabset}

### Map of Regions

```{r, fig.cap=md_caption("Figure App.F.12.17.")}
calcofi_map()
```

### Anchovies {.active}

#### CINMS Region

```{r}
grp   <- "Anchovy"
rgn   <- "CINMS"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```

`r render_figure("Figure App.F.12.19c.", "../img/cinms_cr/App.F.12.19c.Anchovy_CalCOFI.jpg")`

#### SoCal Shelf Region

```{r}
grp   <- "Anchovy"
rgn   <- "SoCal Shelf"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

#download.file(csv, "_tmp.csv")
calcofi_plot(csv = csv, title = title)
```
`r render_figure("Figure App.F.12.19c.", "../img/cinms_cr/App.F.12.19c.Anchovy_CalCOFI.jpg")`

### Hake

#### CINMS Region

`r render_figure("Figure App.F.12.19.hake", "../img/cinms_cr/App.F.12.19hake.CalCOFI_Med_ichthy.jpg")`

#### SoCal Shelf Region

`r render_figure("Figure App.F.12.19.hake", "../img/cinms_cr/App.F.12.19hake.CalCOFI_Med_ichthy.jpg")`

### Myctophids

#### CINMS Region

```{r}
grp   <- "Myctophids"
rgn   <- "CINMS"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```

#### SoCal Shelf Region

```{r}
grp   <- "Myctophids"
rgn   <- "SoCal Shelf"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```

`r render_figure("Figure App.F.12.19.myctophids", "../img/cinms_cr/App.F.12.19.myctophids.jpg")`


### Rockfish

#### CINMS Region

```{r}
grp   <- "Rockfish"
rgn   <- "CINMS"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```

#### SoCal Shelf Region

```{r}
grp   <- "Rockfish"
rgn   <- "SoCal Shelf"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```

`r render_figure("Figure App.F.12.19.rockfish", "../img/cinms_cr/Figure App.F.12.19.rockfish")`


### Sanddab

#### CINMS Region

```{r}
grp   <- "Sanddab"
rgn   <- "CINMS"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```

#### SoCal Shelf Region

```{r}
grp   <- "Sanddab"
rgn   <- "SoCal Shelf"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```

`r render_figure("Figure App.F.12.19.sanddab", "../img/cinms_cr/App.F.12.19.sanddab")`


### Sardines

#### CINMS Region

```{r}
grp   <- "Sardine"
rgn   <- "CINMS"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```

#### SoCal Shelf Region

```{r}
grp   <- "Sardine"
rgn   <- "SoCal Shelf"

title <- glue("{grp} - {rgn} Region")
csv   <- glue("https://raw.githubusercontent.com/marinebon/calcofi-analysis/master/data/{grp}_{rgn}.csv")

calcofi_plot(csv = csv, title = title)
```


`r render_figure("Figure App.F.12.19.sardine", "../img/cinms_cr/App.F.12.19.sardine")`

